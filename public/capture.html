<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ì‚°ê³  71ê¸° ë™ì°½íšŒ ì´ˆëŒ€ì¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 30%, #7c3aed  70%, #c026d3 100%);
            height: 100vh;
            overflow: hidden;
        }
        .invitation-card {
            background: linear-gradient(145deg, #ffffff 0%, #fefefe 100%);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
            height: 100vh;
            overflow-y: auto;
        }
        .header-gradient {
            background: linear-gradient(135deg, #1e40af 0%, #3730a3 50%, #7c3aed 100%);
        }
        .school-logo {
            filter: drop-shadow(0 4px 8px rgba(255, 255, 255, 0.3));
        }
        .reunion-badge {
            background: linear-gradient(45deg, #dc2626, #ef4444, #f97316);
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.4);
        }
        .info-card {
            background: linear-gradient(145deg, #f8fafc, #f1f5f9);
            border: 2px solid rgba(59, 130, 246, 0.1);
        }
        .qr-container {
            background: linear-gradient(145deg, #e0f2fe, #b3e5fc);
            border: 3px solid #0284c7;
        }
        @keyframes shimmer {
            0% { background-position: -468px 0; }
            100% { background-position: 468px 0; }
        }
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            background-size: 468px 100%;
            animation: shimmer 2s infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 8px 25px rgba(220, 38, 38, 0.4); }
            50% { box-shadow: 0 12px 35px rgba(220, 38, 38, 0.6); }
        }
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
    </style>
</head>
<body class="flex items-center justify-center">
    <div class="invitation-card max-w-sm w-full mx-auto rounded-2xl overflow-hidden">
        <!-- í—¤ë” ì„¹ì…˜ -->
        <div class="header-gradient px-8 py-6 text-center text-white relative overflow-hidden">
            <div class="shimmer absolute inset-0"></div>
            <div class="relative z-10">
                <img src="images/osan_log3.svg" alt="ì˜¤ì‚°ê³  ë¡œê³ " class="school-logo w-16 h-16 mx-auto mb-3">
                <h1 class="text-xl font-black mb-1">ì˜¤ì‚°ê³ ë“±í•™êµ</h1>
                <p class="text-blue-100 text-xs font-medium tracking-wide">OSAN HIGH SCHOOL</p>
            </div>
        </div>

        <!-- ë™ì°½íšŒ íƒ€ì´í‹€ -->
        <div class="px-8 py-6 text-center">
            <div class="reunion-badge pulse-glow text-white rounded-2xl py-4 px-6 mb-6">
                <h2 class="text-2xl font-black mb-1">71ê¸° ë™ì°½íšŒ</h2>
                <p class="text-red-100 text-sm font-medium">CLASS OF 1974 REUNION</p>
            </div>

            <!-- í–‰ì‚¬ ì •ë³´ -->
            <div class="info-card rounded-xl p-5 mb-6 space-y-4">
                <div class="text-center">
                    <div class="flex items-center justify-center mb-3">
                        <span class="text-3xl mr-2">ğŸ“…</span>
                        <div>
                            <p class="text-lg font-bold text-gray-800">2025ë…„ 12ì›” 28ì¼</p>
                            <p class="text-sm text-blue-600 font-semibold">í† ìš”ì¼ ì˜¤í›„ 7ì‹œ</p>
                        </div>
                    </div>
                    
                    <div class="w-16 h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto mb-3"></div>
                    
                    <div class="flex items-center justify-center">
                        <span class="text-3xl mr-2">ğŸ“</span>
                        <div>
                            <p class="text-lg font-bold text-gray-800">ê·¸ëœë“œ ë³¼ë£¸</p>
                            <p class="text-sm text-gray-600">ì„œìš¸ ê°•ë‚¨êµ¬</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QR ì½”ë“œ ë° ì°¸ì„ í™•ì¸ -->
            <div class="qr-container rounded-xl p-5 mb-6">
                <p class="text-sm font-bold text-blue-800 mb-3">ğŸ“± ì°¸ì„ í™•ì¸í•˜ê¸°</p>
                <div class="bg-white rounded-lg p-3 shadow-inner">
                    <div id="qrcode" class="flex items-center justify-center mb-3">
                        <div class="w-28 h-28 bg-gray-100 rounded-lg flex items-center justify-center">
                            <div class="text-center">
                                <div class="animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"></div>
                                <span class="text-gray-500 text-xs">ë¡œë”©ì¤‘...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="text-xs text-blue-700 font-medium">QR ìŠ¤ìº” ë˜ëŠ” ì•„ë˜ ë§í¬ í´ë¦­</p>
                <div class="mt-2 p-2 bg-blue-50 rounded-lg">
                    <p class="text-xs font-mono text-blue-800 break-all" id="checkInUrl">ë§í¬ ìƒì„±ì¤‘...</p>
                </div>
            </div>

            <!-- ë©”ì‹œì§€ -->
            <div class="text-center mb-4">
                <p class="text-gray-700 font-medium text-sm leading-relaxed mb-3">
                    ğŸŒŸ <strong>50ë…„ ë§Œì˜ ì†Œì¤‘í•œ ë§Œë‚¨</strong> ğŸŒŸ<br>
                    ë§ì€ ì°¸ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤!
                </p>
                <div class="flex justify-center space-x-3 text-2xl">
                    <span>ğŸ‰</span>
                    <span>ğŸ¥³</span>
                    <span>ğŸŠ</span>
                    <span>ğŸ»</span>
                    <span>â¤ï¸</span>
                </div>
            </div>
        </div>

        <!-- í‘¸í„° -->
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-3 text-center border-t">
            <p class="text-xs text-gray-600 font-medium">ì˜¤ì‚°ê³  71ê¸° ë™ì°½íšŒ ì¤€ë¹„ìœ„ì›íšŒ</p>
            <p class="text-xs text-gray-500 mt-1">Class of 1974 Organizing Committee</p>
        </div>
    </div>

    <script>
        function generateQRCode() {
            const currentHost = window.location.hostname;
            const currentPort = window.location.port;
            const baseUrl = `http://${currentHost}${currentPort ? ':' + currentPort : ''}`;
            const checkInUrl = `${baseUrl}/checkin.html`;
            
            // URL í‘œì‹œ
            document.getElementById('checkInUrl').textContent = checkInUrl;
            
            // QR ì½”ë“œ ìƒì„±
            const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(checkInUrl)}&bgcolor=ffffff&color=000000&margin=10`;
            
            const qrImg = document.createElement('img');
            qrImg.src = qrApiUrl;
            qrImg.alt = 'ë™ì°½íšŒ ì²´í¬ì¸ QRì½”ë“œ';
            qrImg.className = 'w-28 h-28 rounded-lg shadow-sm';
            
            qrImg.onload = function() {
                document.getElementById('qrcode').innerHTML = '';
                document.getElementById('qrcode').appendChild(qrImg);
            };
            
            qrImg.onerror = function() {
                // Google Charts API ëŒ€ì²´
                const fallbackUrl = `https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=${encodeURIComponent(checkInUrl)}`;
                qrImg.src = fallbackUrl;
                
                qrImg.onerror = function() {
                    document.getElementById('qrcode').innerHTML = `
                        <div class="w-28 h-28 bg-gray-100 rounded-lg flex items-center justify-center p-2">
                            <div class="text-center">
                                <p class="text-xs text-gray-600 font-medium mb-1">QR ìƒì„± ì‹¤íŒ¨</p>
                                <p class="text-xs text-blue-600 break-all">${checkInUrl}</p>
                            </div>
                        </div>
                    `;
                };
            };
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ QR ì½”ë“œ ìƒì„±
        document.addEventListener('DOMContentLoaded', generateQRCode);
    </script>
</body>
</html>