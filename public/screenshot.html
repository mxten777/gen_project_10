<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ì‚°ê³  71íšŒ ë™ê¸° ì†¡ë…„íšŒ ì´ˆëŒ€ì¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #3b4b87 0%, #6366f1 50%, #8b5cf6 100%);
            min-height: 100vh;
            margin: 0;
            padding: 16px 12px;
        }
        .invitation-card {
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            max-height: calc(100vh - 80px);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        .header-gradient {
            background: linear-gradient(135deg, #6b46c1 0%, #059669 100%);
        }
        .reunion-badge {
            background: linear-gradient(135deg, #f97316 0%, #dc2626 100%);
        }
        .section-card {
            background: linear-gradient(145deg, #f8fafc 0%, #f1f5f9 100%);
            border-left: 3px solid #3b82f6;
        }
        .qr-container {
            background: linear-gradient(145deg, #dbeafe 0%, #bfdbfe 100%);
        }
    </style>
</head>
<body class="flex items-center justify-center">
    <!-- í™ˆ ë²„íŠ¼ -->
    <div class="fixed top-2 left-2 z-50">
        <a href="/" class="bg-gray-800 hover:bg-gray-700 text-white px-3 py-1 rounded-lg text-sm font-semibold transition-colors shadow-lg">
            ğŸ  í™ˆ
        </a>
    </div>
    
    <div class="invitation-card max-w-xs w-full">
        <!-- í—¤ë” -->
        <div class="header-gradient text-white p-3">
            <div class="flex items-center mb-2">
                <img src="images/osan_log3.svg" alt="ì˜¤ì‚°ê³  ë¡œê³ " class="w-8 h-8 mr-2">
                <div>
                    <h1 class="text-sm font-bold">ì˜¤ì‚°ê³ ë“±í•™êµ</h1>
                    <p class="text-xs opacity-80">OSAN HIGH SCHOOL</p>
                </div>
            </div>
            <div class="reunion-badge rounded-xl py-2 px-3 text-white text-center">
                <h2 class="text-lg font-black">71íšŒ ë™ê¸° ì†¡ë…„íšŒì— ì´ˆëŒ€í•©ë‹ˆë‹¤</h2>
                <p class="text-xs opacity-90">CLASS OF 1981 REUNION</p>
            </div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="p-3 space-y-3">
            <!-- ë©”ì‹œì§€ -->
            <div class="text-center bg-yellow-50 rounded-lg p-2">
                <p class="text-sm text-gray-700 font-medium">
                    ğŸŒŸ <strong>ì˜¤ë˜ ë³´ë‹ˆ ë” ì¢‹ì€ ìš°ë¦¬</strong> ğŸŒŸ<br>
                    <span class="text-xs">2025ë…„ì˜ ëìë½ì„ í•¨ê»˜ ë§ˆë¬´ë¦¬í•´ìš”</span>
                </p>
            </div>

            <!-- í–‰ì‚¬ ì •ë³´ -->
            <div class="section-card rounded-lg p-2.5">
                <h3 class="text-sm font-bold text-blue-800 mb-1.5 flex items-center">
                    ğŸ“… í–‰ì‚¬ ì•ˆë‚´
                </h3>
                <div class="text-xs space-y-1 text-gray-700">
                    <div><span class="font-medium">ì¼ì‹œ:</span> 2025ë…„ 11ì›” 29ì¼(í† ) 14:00~17:00</div>
                    <div><span class="font-medium">ì¥ì†Œ:</span> ì„œìš¸ëŒ€ì…êµ¬ì—­ <span class="font-bold text-orange-600">ê¼¬ê¼¬ë‹­ê°ˆë¹„</span></div>
                    <div><span class="font-medium">ì¸ì›:</span> ì•½ 54ëª… ì˜ˆì •</div>
                </div>
            </div>

            <!-- í”„ë¡œê·¸ë¨ -->
            <div class="section-card rounded-lg p-2.5">
                <h3 class="text-sm font-bold text-blue-800 mb-1.5">ğŸ‰ ì£¼ìš” ìˆœì„œ</h3>
                <div class="text-xs space-y-0.5 text-gray-600">
                    <div>â€¢ ì…ì¥ & ì¶œì„ì²´í¬ / ê°œíšŒ & ì‚¬íšŒì ì¸ì‚¬</div>
                    <div>â€¢ ì†Œëª¨ì„ ì†Œê°œ ë° í›„ì›ì ì†Œê°œ</div>
                    <div>â€¢ ë™ê¸° ëŒ€í‘œ ì¸ì‚¬ë§ & êµê°€ ì œì°½</div>
                    <div>â€¢ ê±´ë°°ì‚¬ í›„ ì‹ì‚¬ & ììœ  ëŒ€í™”</div>
                    <div>â€¢ ë‹¨ì²´ì‚¬ì§„ ì´¬ì˜ ë° ííšŒ ì•ˆë‚´</div>
                </div>
            </div>

            <!-- QR ì½”ë“œ -->
            <div class="qr-container rounded-lg p-2.5 text-center">
                <h3 class="text-sm font-bold text-blue-800 mb-2">ğŸ“± ì°¸ì„ í™•ì¸í•˜ê¸°</h3>
                <div class="bg-white rounded-lg p-2 inline-block mb-1.5">
                    <div id="qrcode" class="w-16 h-16 mx-auto flex items-center justify-center">
                        <div class="animate-spin w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full"></div>
                    </div>
                </div>
                <p class="text-xs text-blue-700 font-medium mb-1">QR ìŠ¤ìº” ë˜ëŠ” ì•„ë˜ ë§í¬</p>
                <div class="bg-blue-50 rounded p-1.5">
                    <p class="text-xs font-mono text-blue-800 break-all" id="checkinUrl">ë§í¬ ìƒì„±ì¤‘...</p>
                </div>
            </div>

            <!-- ë§ˆë¬´ë¦¬ -->
            <div class="text-center bg-gray-50 rounded-lg p-2">
                <div class="flex justify-center space-x-2 text-lg mb-1">
                    <span>ğŸ‰</span>
                    <span>ğŸ¥³</span>
                    <span>ğŸ»</span>
                    <span>â¤ï¸</span>
                </div>
                <p class="text-xs text-gray-600 font-medium">
                    11ì›” 29ì¼, ì„œìš¸ëŒ€ì…êµ¬ì—­ ê¼¬ê¼¬ë‹­ê°ˆë¹„ì—ì„œ ë°˜ê°€ìš´ ì–¼êµ´ë¡œ ëµ™ê² ìŠµë‹ˆë‹¤
                </p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentHost = window.location.hostname;
            const currentPort = window.location.port;
            const baseUrl = `http://${currentHost}${currentPort ? ':' + currentPort : ''}`;
            
            let checkinUrl;
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                const localIP = '192.168.45.14';
                const port = window.location.port || '8080';
                checkinUrl = `http://${localIP}:${port}/checkin.html`;
            } else {
                // ë” ì§§ì€ Vercel URL ì‚¬ìš©
                if (window.location.hostname.includes('vercel.app')) {
                    checkinUrl = 'https://gen-project-10.vercel.app/checkin';
                } else {
                    checkinUrl = `${baseUrl}/checkin`;
                }
            }
            
            document.getElementById('checkinUrl').textContent = checkinUrl;
            
            // QR ì½”ë“œ ìƒì„±
            const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(checkinUrl)}&margin=8&bgcolor=ffffff&color=000000`;
            
            const qrImg = document.createElement('img');
            qrImg.src = qrApiUrl;
            qrImg.alt = 'QRì½”ë“œ';
            qrImg.className = 'w-16 h-16 rounded';
            
            qrImg.onload = function() {
                document.getElementById('qrcode').innerHTML = '';
                document.getElementById('qrcode').appendChild(qrImg);
            };
            
            qrImg.onerror = function() {
                const fallbackUrl = `https://chart.googleapis.com/chart?chs=100x100&cht=qr&chl=${encodeURIComponent(checkinUrl)}`;
                qrImg.src = fallbackUrl;
                
                qrImg.onerror = function() {
                    document.getElementById('qrcode').innerHTML = `
                        <div class="w-16 h-16 bg-blue-100 rounded flex items-center justify-center">
                            <div class="text-center">
                                <div class="text-xl">ğŸ“±</div>
                                <div class="text-xs text-blue-600 font-medium">ì²´í¬ì¸</div>
                            </div>
                        </div>
                    `;
                };
            };
        });
    </script>
</body>
</html>