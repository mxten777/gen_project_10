<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”å±±é«˜æ ¡71æœŸåŒçª“ä¼šæ‹›å¾…çŠ¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap');
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #3b4b87 0%, #6366f1 50%, #8b5cf6 100%);
            min-height: 100vh;
            margin: 0;
            padding: 12px;
        }
        .invitation-card {
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            max-height: calc(100vh - 24px);
            overflow: hidden;
        }
        .header-gradient {
            background: linear-gradient(135deg, #6b46c1 0%, #059669 100%);
        }
        .reunion-badge {
            background: linear-gradient(135deg, #f97316 0%, #dc2626 100%);
        }
        .section-card {
            background: linear-gradient(145deg, #f8fafc 0%, #f1f5f9 100%);
            border-left: 3px solid #3b82f6;
        }
        .qr-container {
            background: linear-gradient(145deg, #dbeafe 0%, #bfdbfe 100%);
        }
    </style>
</head>
<body class="flex items-center justify-center">
    <div class="invitation-card max-w-xs w-full">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="header-gradient text-white p-3">
            <div class="flex items-center mb-4">
                <img src="images/osan_log3.svg" alt="äº”å±±é«˜æ ¡ãƒ­ã‚´" class="w-8 h-8 mr-2">
                <div>
                    <h1 class="text-sm font-bold">äº”å±±é«˜ç­‰å­¦æ ¡</h1>
                    <p class="text-xs opacity-80">OSAN HIGH SCHOOL</p>
                </div>
            </div>
            <div class="reunion-badge rounded-xl py-2 px-3 text-white text-center">
                <h2 class="text-lg font-black">71æœŸåŒçª“ä¼šã«ã”æ‹›å¾…ã—ã¾ã™</h2>
                <p class="text-xs opacity-90">CLASS OF 1981 REUNION</p>
            </div>
        </div>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div class="p-3 space-y-3">
            <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
            <div class="text-center bg-yellow-50 rounded-lg p-2">
                <p class="text-sm text-gray-700 font-medium">
                    ğŸŒŸ <strong>ä¹…ã—ã¶ã‚Šã«ä¼šãˆã¦ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™</strong> ğŸŒŸ<br>
                    <span class="text-xs">2025å¹´ã®å¹´æœ«ã‚’ä¸€ç·’ã«ç· ã‚ããã‚Šã¾ã—ã‚‡ã†</span>
                </p>
            </div>

            <!-- ã‚¤ãƒ™ãƒ³ãƒˆæ¡ˆå†… -->
            <div class="section-card rounded-lg p-2.5">
                <h3 class="text-sm font-bold text-blue-800 mb-1.5 flex items-center">
                    ğŸ“… ã‚¤ãƒ™ãƒ³ãƒˆæ¡ˆå†…
                </h3>
                <div class="text-xs space-y-1 text-gray-700">
                    <div><span class="font-medium">æ—¥æ™‚:</span> 2025å¹´11æœˆ29æ—¥(åœŸ) 14:00~17:00</div>
                    <div><span class="font-medium">å ´æ‰€:</span> ã‚½ã‚¦ãƒ«å¤§å…¥å£é§… <span class="font-bold text-orange-600">ã‚³ã‚³ãƒ€ãƒƒã‚«ãƒ«ãƒ“</span></div>
                    <div><span class="font-medium">äººæ•°:</span> ç´„54åäºˆå®š</div>
                </div>
            </div>

            <!-- ãƒ—ãƒ­ã‚°ãƒ©ãƒ  -->
            <div class="section-card rounded-lg p-2.5">
                <h3 class="text-sm font-bold text-blue-800 mb-1.5">ğŸ‰ ä¸»ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h3>
                <div class="text-xs space-y-0.5 text-gray-600">
                    <div>â€¢ å…¥å ´ãƒ»å‡ºå¸­ç¢ºèª / é–‹ä¼šãƒ»å¸ä¼šè€…æŒ¨æ‹¶</div>
                    <div>â€¢ ã‚µãƒ¼ã‚¯ãƒ«ç´¹ä»‹ãƒ»å¾Œæ´è€…ç´¹ä»‹</div>
                    <div>â€¢ åŒæœŸä»£è¡¨æŒ¨æ‹¶ãƒ»æ ¡æ­Œæ–‰å”±</div>
                    <div>â€¢ ä¹¾æ¯ãƒ»é£Ÿäº‹ãƒ»è‡ªç”±æ‡‡è«‡</div>
                    <div>â€¢ é›†åˆå†™çœŸæ’®å½±ãƒ»é–‰ä¼šæ¡ˆå†…</div>
                </div>
            </div>

            <!-- QRã‚³ãƒ¼ãƒ‰ -->
            <div class="qr-container rounded-lg p-2.5 text-center">
                <h3 class="text-sm font-bold text-blue-800 mb-2">ğŸ“± å‡ºå¸­ç¢ºèª</h3>
                <div class="bg-white rounded-lg p-2 inline-block mb-1.5">
                    <div id="qrcode" class="w-16 h-16 mx-auto flex items-center justify-center">
                        <div class="animate-spin w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full"></div>
                    </div>
                </div>
                <p class="text-xs text-blue-700 font-medium mb-1">QRã‚¹ã‚­ãƒ£ãƒ³ã¾ãŸã¯ä¸‹è¨˜ãƒªãƒ³ã‚¯</p>
                <div class="bg-blue-50 rounded p-1.5">
                    <p class="text-xs font-mono text-blue-800 break-all" id="checkinUrl">ãƒªãƒ³ã‚¯ç”Ÿæˆä¸­...</p>
                </div>
            </div>

            <!-- çµã³ -->
            <div class="text-center bg-gray-50 rounded-lg p-2">
                <div class="flex justify-center space-x-1.5 text-lg mb-1">
                    <span>ğŸ‰</span>
                    <span>ğŸ¥³</span>
                    <span>ğŸ»</span>
                    <span>â¤ï¸</span>
                </div>
                <p class="text-xs text-gray-600 font-medium">
                    11æœˆ29æ—¥ã€ã‚½ã‚¦ãƒ«å¤§å…¥å£é§…ã‚³ã‚³ãƒ€ãƒƒã‚«ãƒ«ãƒ“ã§æ‡ã‹ã—ã„ãŠé¡”ã«ãŠä¼šã„ã§ãã‚‹ã“ã¨ã‚’æ¥½ã—ã¿ã«ã—ã¦ãŠã‚Šã¾ã™
                </p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentHost = window.location.hostname;
            const currentPort = window.location.port;
            const baseUrl = `http://${currentHost}${currentPort ? ':' + currentPort : ''}`;
            
            let checkinUrl;
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                const localIP = '192.168.45.14';
                const port = window.location.port || '8080';
                checkinUrl = `http://${localIP}:${port}/checkin.html`;
            } else {
                // ã‚ˆã‚ŠçŸ­ã„Vercel URLã‚’ä½¿ç”¨
                if (window.location.hostname.includes('vercel.app')) {
                    checkinUrl = 'https://gen-project-10.vercel.app/checkin';
                } else {
                    checkinUrl = `${baseUrl}/checkin`;
                }
            }
            
            document.getElementById('checkinUrl').textContent = checkinUrl;
            
            // QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
            const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(checkinUrl)}&margin=8&bgcolor=ffffff&color=000000`;
            
            const qrImg = document.createElement('img');
            qrImg.src = qrApiUrl;
            qrImg.alt = 'QRã‚³ãƒ¼ãƒ‰';
            qrImg.className = 'w-16 h-16 rounded';
            
            qrImg.onload = function() {
                document.getElementById('qrcode').innerHTML = '';
                document.getElementById('qrcode').appendChild(qrImg);
            };
            
            qrImg.onerror = function() {
                const fallbackUrl = `https://chart.googleapis.com/chart?chs=100x100&cht=qr&chl=${encodeURIComponent(checkinUrl)}`;
                qrImg.src = fallbackUrl;
                
                qrImg.onerror = function() {
                    document.getElementById('qrcode').innerHTML = `
                        <div class="w-16 h-16 bg-blue-100 rounded flex items-center justify-center">
                            <div class="text-center">
                                <div class="text-xl">ğŸ“±</div>
                                <div class="text-xs text-blue-600 font-medium">ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³</div>
                            </div>
                        </div>
                    `;
                };
            };
        });
    </script>
</body>
</html>